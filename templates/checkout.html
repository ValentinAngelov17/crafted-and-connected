{% extends 'base.html' %}
{% block page_content %}
    <body>
    <div class="user-profile">
     <h1>Checkout</h1>
    {% if cart and cart.items.all %}
        <h2>Order Summary:</h2>
        <ul>
            {% for item in cart.items.all %}
                <li>
                    {{ item.post.title }} - 
                    Quantity: {{ item.quantity }} - 
                    Price: {{ item.post.price|floatformat:2 }} - 
                    Subtotal: {{ item.post.price|floatformat:2|add:item.quantity|floatformat:2 }}
                </li>
            {% endfor %}
        </ul>
        <h2>Total: {{ cart.get_total_price|floatformat:2 }}</h2>
        <form action="{% url 'checkout' %}" method="post">
            {% csrf_token %}
            <h3>Select Delivery Option:</h3>
            <label>
                <input type="radio" name="delivery" value="econt" required> Econt
            </label>
            <label>
                <input type="radio" name="delivery" value="speedy" required> Speedy
            </label>
            <br><br>
            <h3>Billing Details:</h3>
            {{ form.as_p }}
            <button type="submit">Continue</button>
        </form>
    {% else %}
        <p>Your cart is empty.</p>
    {% endif %}
    </div>
    </body>
{% endblock %}
